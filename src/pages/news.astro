---
import BaseLayout from '../layouts/BaseLayout.astro';
const title = 'News Blog';
const newsUpdates = await Astro.glob('../content/news/*.md');

const sortedNewsUpdates = Object.values(newsUpdates).sort(
    (a, b) => {
        const dateA = new Date(b.frontmatter.date).getTime();
        const dateB = new Date(a.frontmatter.date).getTime();

        return dateB - dateA;
    }
);
---
<style>
    h1{
        margin-left: 1rem;
    }
    .blogpostTitle{
        font-weight: bold;
    }
    .blogpostframe{
        margin-top: 1rem;
        padding: 1rem;
    }
    .blogpostbox{
        margin-top: 1rem;
        padding: 1rem;
    }
</style>
<BaseLayout title = {title}>
    <h1 class="blogpostTitle">Latest News</h1>
    <ul class="blogpostframe">
        {sortedNewsUpdates.map((news) => (
        <li class="blogpostbox">
            <h2 class="blogpostTitle">{news.frontmatter.title}</h2>
            <p><small>{news.frontmatter.date}</small></p>
            <div set:html={news.compiledContent()}></div>
            
        </li>
        ))}
    </ul>
</BaseLayout>